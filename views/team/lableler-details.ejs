<%- include("../includes/head.ejs") %>
<link rel="stylesheet" href="/css/labeler.css">
<link rel="stylesheet" href="/css/table.css">
<link rel="stylesheet" href="/css/analytics.css">
<link rel="stylesheet" href="/css/labeler-details.css">
</head>
<body>
    <header>
        <%- include("../includes/navigation.ejs") %>
    </header>
    <main>
        <div class="container">

        
        <div class="row">
          <%- include("../includes/side-nav.ejs") %>
            <div class=" main col-9 ">
                <h1>Labeler Details</h1>
                  <section class="submitted-tasks">
                    <h2>Submitted Tasks</h2>
                    <div id="carouselExample" class="carousel slide">
                        <div class="carousel-inner">
                          <div class="carousel-item active">
                            <div class="daily col-10 crd">
                                <h4>Daily</h4>
                                <div class="submitted-tasks-table">
                                    <div class="scroller">
                                        <table>
                                            <tr>
                                                <th>Task ID</th>
                                                <th class="queue-cell">Queue</th>
                                                <th class="queue-cell">Started</th>
                                                <th class="queue-cell">Submitted</th>
                                                <th>from</th>
                                                <th>to</th>
                                                <th>#</th>
                                                <th>#</th>
                                            </tr>
                                            <% labelerDetails.submittedTasksToday.forEach(el => {%>
                                                <tr>
                                                    <td><%= el.id %></td>
                                                    <td class="queue-cell"><%= el.queueName?.name?.toUpperCase() ?? "no queue" %></td>
                                                    <td class="queue-cell"><%= el.startDate %></td>
                                                    <td class="queue-cell"><%= el.submittedDate %></td>
                                                    <td><%= el.StartednumObj %></td>
                                                    <td><%= el.StartednumObj %></td>
                                                    <td><a class="edit" href="/edit-task/<%= el._id %>">Edit</a></td>
                                                    <td><form  method="post" action="/delete-task"><input type="hidden" name="taskId" value="<%= el._id %>"><button class="delete">Delete</button></form></td>
                                                </tr>
                                                <% }) %>
                                            </table>
                                        </div>
                                    </div>
                                   
                            </div>
                          </div>
                          <div class="carousel-item">
                            <div class="daily col-10 crd">
                                <h4>Weekly</h4>
                                <div class="submitted-tasks-table">
                                    <div class="scroller">
                                        <table>
                                            <tr>
                                                <th>Task ID</th>
                                                <th class="queue-cell">Queue</th>
                                                <th>Started</th>
                                                <th>Submitted</th>
                                                <th>from</th>
                                                <th>to</th>
                                                <th>#</th>
                                                <th>#</th>
                                            </tr>
                                            <% labelerDetails.submittedTasksThisWeek.forEach(el => {%>
                                                <tr>
                                                    <td><%= el.id %></td>
                                                    <td class="queue-cell"><%= el.queueName?.name?.toUpperCase() ?? "no queue" %></td>
                                                    <td><%= el.startDate.split(",")[0] %></td>
                                                    <td><%= el.submittedDate.split(",")[0] %></td>
                                                    <td><%= el.StartednumObj %></td>
                                                    <td><%= el.StartednumObj %></td>
                                                    <td><a class="edit" href="#">edit</a></td>
                                                    <td><form  method="post" action="/delete-task"><input type="hidden" name="taskId" value="<%= el._id %>"><button class="delete">Delete</button></form></td>
                                                </tr>
                                                <% }) %>
                                            </table>
                                        </div>
                                    </div>
                                   
                            </div>
                          </div>
                          <div class="carousel-item">
                            <div class="daily col-10 crd">
                                <h4>Monthly</h4>
                                <div class="submitted-tasks-table">
                                    <div class="scroller">
                                        <table>
                                            <tr>
                                                <th>Task ID</th>
                                                <th class="queue-cell">Queue</th>
                                                <th>Started</th>
                                                <th>Submitted</th>
                                                <th>from</th>
                                                <th>to</th>
                                                <th>#</th>
                                                <th>#</th>
                                            </tr>
                                            <% labelerDetails.submittedTasksThisMonth.forEach(el => {%>
                                                <tr>
                                                    <td><%= el.id %></td>
                                                    <td class="queue-cell"><%= el.queueName?.name?.toUpperCase() ?? "no queue" %></td>
                                                    <td><%= el.startDate.split(",")[0] %></td>
                                                    <td><%= el.submittedDate.split(",")[0] %></td>
                                                    <td><%= el.StartednumObj %></td>
                                                    <td><%= el.StartednumObj %></td>
                                                    <td><a class="edit" href="#">edit</a></td>
                                                    <td><form  method="post" action="/delete-task"><input type="hidden" name="taskId" value="<%= el._id %>"><button class="delete">Delete</button></form></td>
                                                </tr>
                                                <% }) %>
                                            </table>
                                        </div>
                                    </div>
                                   
                            </div>
                          </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                            <i class="fa-solid fa-left-long"></i>
                            <span class="visually-hidden">Previous</span>
                          </button>
                          <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                            <i class="fa-solid fa-right-long"></i>
                            <span class="visually-hidden">Next</span>
                          </button>
                      </div>
                  </section>
                  <section class="spl">
                    <h2>SPL</h2>
                    <div class="crd col-10"></div>
                  </section>
                  <section class="spl">
                    <h2>Hours</h2>
                    <div class="crd col-10"></div>
                  </section>
            </div>
        </div>
    </div>
    </main>
    
</body>
<%- include("../includes/end.ejs") %>